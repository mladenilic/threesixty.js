var ThreeSixty=function(a){"use strict";return function(b,c){var d=this,e=0,f=null,g=!1,h=!1,i=function(b){b?d.prev():d.next(),f=a.setTimeout(function(){i(b)},c.speed)};c.width=c.width||300,c.height=c.height||300,c.count=c.count||0,c.perRow=c.perRow||0,c.speed=c.speed||100,c.dragTolerance=c.dragTolerance||10,c.swipeTolerance=c.dragTolerance||10,c.draggable=c.draggable||!0,c.swipeable=c.draggable||!0,c.keys=c.keys||!0,c.prev=c.prev||!1,c.next=c.next||!1,c.inverted=c.inverted||!1,b.style.width=c.width+"px",b.style.height=c.height+"px",b.style.backgroundImage='url("'+c.image+'")',b.style.backgroundPosition="0 0",b.style.backgroundSize=100*c.perRow+"%",c.draggable&&(b.addEventListener("mousedown",function(a){h=a.pageX}),document.addEventListener("mouseup",function(){h=!1}),document.addEventListener("mousemove",function(a){h&&Math.abs(h-a.pageX)>c.dragTolerance&&(d.stop(),h>a.pageX?d.prev():d.next(),h=a.pageX)})),c.swipeable&&(b.addEventListener("touchstart",function(a){h=a.touches[0].clientX}),b.addEventListener("touchend",function(){h=!1}),document.addEventListener("touchmove",function(a){h&&Math.abs(h-a.touches[0].clientX)>c.swipeTolerance&&(d.stop(),h>a.touches[0].clientX?d.prev():d.next(),h=a.touches[0].clientX)})),c.keys&&(document.addEventListener("keydown",function(a){[37,39].includes(a.keyCode)&&d.play(37===a.keyCode)}),document.addEventListener("keyup",function(a){[37,39].includes(a.keyCode)&&d.stop()})),c.prev&&(c.prev.addEventListener("mousedown",function(a){a.preventDefault(),d.play(!0)}),c.prev.addEventListener("mouseup",function(a){a.preventDefault(),d.stop()}),c.prev.addEventListener("touchstart",function(a){a.preventDefault(),d.prev()})),c.next&&(c.next.addEventListener("mousedown",function(a){a.preventDefault(),d.play()}),c.next.addEventListener("mouseup",function(a){a.preventDefault(),d.stop()}),c.next.addEventListener("touchstart",function(a){a.preventDefault(),d.next()})),d.next=function(){d.goTo(c.inverted?e+1:e-1),d.update()},d.prev=function(){d.goTo(c.inverted?e-1:e+1),d.update()},d.goTo=function(a){a=a>c.count-1?0:a,e=a<0?c.count-1:a,d.update()},d.update=function(){b.style.backgroundPositionX=-e%c.perRow*c.width+"px",b.style.backgroundPositionY=-Math.floor(e/c.perRow)*c.height+"px"},d.play=function(a){g||(i(a),g=!0)},d.stop=function(){g&&(a.clearTimeout(f),g=!1)}}}(window);
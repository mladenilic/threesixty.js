!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ThreeSixty=e():t.ThreeSixty=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}function s(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function r(t,e){return t.get(a(t,e))}function u(t,e,n){return t.set(a(t,e),n),n}function a(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}t.d(e,{default:()=>S});var h=new WeakMap,c=new WeakMap,p=new WeakMap,l=function(){return t=function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,h,null),s(this,c,null),s(this,p,null),u(c,this,n),u(p,this,{container:{mousedown:function(t){return u(h,i,t.pageX)},touchstart:function(t){return u(h,i,t.touches[0].clientX)},touchend:function(){return u(h,i,null)}},prev:{mousedown:function(t){t.preventDefault(),e.play(!0)},mouseup:function(t){t.preventDefault(),e.stop()},touchstart:function(t){t.preventDefault(),e.prev()}},next:{mousedown:function(t){t.preventDefault(),e.play()},mouseup:function(t){t.preventDefault(),e.stop()},touchstart:function(t){t.preventDefault(),e.next()}},global:{mouseup:function(){return u(h,i,null)},mousemove:function(t){r(h,i)&&Math.abs(r(h,i)-t.pageX)>r(c,i).dragTolerance&&(e.stop(),r(h,i)>t.pageX?e.prev():e.next(),u(h,i,t.pageX))},touchmove:function(t){r(h,i)&&Math.abs(r(h,i)-t.touches[0].clientX)>r(c,i).swipeTolerance&&(e.stop(),r(h,i)>t.touches[0].clientX?e.prev():e.next(),u(h,i,t.touches[0].clientX))},keydown:function(t){[37,39].includes(t.keyCode)&&e.play(37===t.keyCode)},keyup:function(t){[37,39].includes(t.keyCode)&&e.stop()}}}),this._initEvents()},(e=[{key:"destroy",value:function(){r(c,this).swipeTarget.removeEventListener("mousedown",r(p,this).container.mousedown),r(c,this).swipeTarget.removeEventListener("touchstart",r(p,this).container.touchstart),r(c,this).swipeTarget.removeEventListener("touchend",r(p,this).container.touchend),window.removeEventListener("mouseup",r(p,this).global.mouseup),window.removeEventListener("mousemove",r(p,this).global.mousemove),window.removeEventListener("touchmove",r(p,this).global.touchmove),window.removeEventListener("keydown",r(p,this).global.keydown),window.removeEventListener("keyup",r(p,this).global.keyup),r(c,this).prev&&(r(c,this).prev.removeEventListener("mousedown",r(p,this).prev.mousedown),r(c,this).prev.removeEventListener("mouseup",r(p,this).prev.mouseup),r(c,this).prev.removeEventListener("touchstart",r(p,this).prev.touchstart)),r(c,this).next&&(r(c,this).next.removeEventListener("mousedown",r(p,this).next.mousedown),r(c,this).next.removeEventListener("mouseup",r(p,this).next.mouseup),r(c,this).next.removeEventListener("touchstart",r(p,this).next.touchstart))}},{key:"_initEvents",value:function(){r(c,this).draggable&&(r(c,this).swipeTarget.addEventListener("mousedown",r(p,this).container.mousedown),window.addEventListener("mouseup",r(p,this).global.mouseup),window.addEventListener("mousemove",r(p,this).global.mousemove)),r(c,this).swipeable&&(r(c,this).swipeTarget.addEventListener("touchstart",r(p,this).container.touchstart),r(c,this).swipeTarget.addEventListener("touchend",r(p,this).container.touchend),window.addEventListener("touchmove",r(p,this).global.touchmove)),r(c,this).keys&&(window.addEventListener("keydown",r(p,this).global.keydown),window.addEventListener("keyup",r(p,this).global.keyup)),r(c,this).prev&&(r(c,this).prev.addEventListener("mousedown",r(p,this).prev.mousedown),r(c,this).prev.addEventListener("mouseup",r(p,this).prev.mouseup),r(c,this).prev.addEventListener("touchstart",r(p,this).prev.touchstart)),r(c,this).next&&(r(c,this).next.addEventListener("mousedown",r(p,this).next.mousedown),r(c,this).next.addEventListener("mouseup",r(p,this).next.mouseup),r(c,this).next.addEventListener("touchstart",r(p,this).next.touchstart))}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const v=l;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,y(i.key),i)}}function y(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}function w(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function m(t,e){return t.get(b(t,e))}function g(t,e,n){return t.set(b(t,e),n),n}function b(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var k=new WeakMap,E=new WeakMap,L=new WeakMap,x=new WeakMap,T=new WeakMap,j=new WeakMap,R=new WeakMap;const S=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,k,null),w(this,E,0),w(this,L,null),w(this,x,!1),w(this,T,null),w(this,j,null),w(this,R,!1),this.container=e,g(k,this,Object.assign({width:300,height:300,aspectRatio:0,count:0,perRow:0,speed:100,dragTolerance:10,swipeTolerance:10,draggable:!0,swipeable:!0,keys:!0,inverted:!1},n)),m(k,this).swipeTarget=m(k,this).swipeTarget||this.container,g(R,this,!Array.isArray(m(k,this).image)),this.sprite||(m(k,this).count=m(k,this).image.length),Object.freeze(m(k,this)),g(j,this,new v(this,m(k,this))),this._windowResizeListener=this._windowResizeListener.bind(this),this._initContainer(),this.nloops=0},(e=[{key:"isResponsive",get:function(){return m(k,this).aspectRatio>0}},{key:"containerWidth",get:function(){return this.isResponsive?this.container.clientWidth:m(k,this).width}},{key:"containerHeight",get:function(){return this.isResponsive?this.container.clientWidth*m(k,this).aspectRatio:m(k,this).height}},{key:"index",get:function(){return m(E,this)}},{key:"looping",get:function(){return m(x,this)}},{key:"sprite",get:function(){return m(R,this)}},{key:"next",value:function(){this.goto(m(k,this).inverted?m(E,this)-1:m(E,this)+1)}},{key:"prev",value:function(){this.goto(m(k,this).inverted?m(E,this)+1:m(E,this)-1)}},{key:"goto",value:function(t){g(E,this,(m(k,this).count+t)%m(k,this).count),this._update()}},{key:"play",value:function(t,e){this.looping||(this._loop(t),g(x,this,!0),g(T,this,e),this.nloops=0)}},{key:"stop",value:function(){this.looping&&(window.clearTimeout(m(L,this)),g(x,this,!1),g(T,this,null),this.nloops=0)}},{key:"toggle",value:function(t){this.looping?this.stop():this.play(t)}},{key:"destroy",value:function(){this.stop(),m(j,this).destroy(),this.container.style.width="",this.container.style.height="",this.container.style.backgroundImage="",this.container.style.backgroundPositionX="",this.container.style.backgroundPositionY="",this.container.style.backgroundSize="",this.isResponsive&&window.removeEventListener("resize",this._windowResizeListener)}},{key:"_loop",value:function(t){var e=this;t?this.prev():this.next(),0===m(E,this)&&(this.nloops+=1,m(T,this)&&this.nloops>=m(T,this))?this.stop():g(L,this,window.setTimeout((function(){e._loop(t)}),m(k,this).speed))}},{key:"_update",value:function(){this.sprite?(this.container.style.backgroundPositionX=-m(E,this)%m(k,this).perRow*this.containerWidth+"px",this.container.style.backgroundPositionY=-Math.floor(m(E,this)/m(k,this).perRow)*this.containerHeight+"px"):this.container.style.backgroundImage='url("'.concat(m(k,this).image[m(E,this)],'")')}},{key:"_windowResizeListener",value:function(){this.container.style.height=this.containerHeight+"px",this._update()}},{key:"_initContainer",value:function(){if(this.isResponsive||(this.container.style.width=this.containerWidth+"px"),this.container.style.height=this.containerHeight+"px",this.sprite){this.container.style.backgroundImage='url("'.concat(m(k,this).image,'")');var t=m(k,this).perRow,e=Math.ceil(m(k,this).count/m(k,this).perRow);this.container.style.backgroundSize=100*t+"% "+100*e+"%"}this.isResponsive&&window.addEventListener("resize",this._windowResizeListener),this._update()}}])&&f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();return e.default})()));